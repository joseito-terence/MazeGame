import{j as x,r as a,C as b,a as W,R as U,b as z}from"./vendor.3adfdc3c.js";const V=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};V();var T="kx59sb0",B="kx59sb1",p;(function(e){e[e.EASY=1]="EASY",e[e.NORMAL=2]="NORMAL",e[e.HARD=3]="HARD"})(p||(p={}));var j="_5khzua0 _14x3hpdu";const d=x.exports.jsx,v=x.exports.jsxs,w=x.exports.Fragment,K=({onClick:e,children:t})=>d("button",{className:j,onClick:e,children:t!=null?t:"Click"});var Y="auiokr0";const Q=({onDifficultyChosen:e,lost:t,win:s,im:r})=>d("div",{className:Y,children:s?d("h1",{style:{color:"#f95d5d",backgroundColor:"#222222",padding:"0.5rem",borderRadius:"0.5rem"},children:r}):d(K,{onClick:()=>{e(p.HARD)},children:t?"Play Again":"Start Game"})}),q=({onGameStart:e,lostText:t,win:s,im:r})=>v(w,{children:[d("h1",{className:B,children:"Maze Game"}),(t==null?void 0:t.length)>0&&d("p",{className:T,style:{color:"#f95d5d",backgroundColor:"#222222",padding:"0.5rem",borderRadius:"0.5rem"},children:t}),d("p",{className:T,children:s?"Congratulations, oh master of the maze! With wit and wisdom, you navigated the labyrinth's twists and turns, conquering every challenge in your path. As a reward for your triumph, we present you with the key to unlock new adventures and mysteries! The world of possibilities awaits at your fingertips.":"The goal of this game is to solve the maze within the given time. Use arrows to move through the labyrinth and find the way out as quickly as possible."}),d(Q,{im:r,win:s,lost:(t==null?void 0:t.length)!=0,onDifficultyChosen:e})]}),Z=e=>{const[t,s]=a.exports.useState(!1),r=a.exports.useRef(e),n=a.exports.useRef([]),o=a.exports.useRef(),l=a.exports.useRef(()=>s(c=>!c)),i=a.exports.useRef(()=>n.current=[]),f=a.exports.useCallback(c=>{c.code===r.current[n.current.length]?(n.current=[...n.current,c.key],o.current&&clearTimeout(o.current),o.current=setTimeout(i.current,2e3)):n.current=[c.key],n.current.length===r.current.length&&(l.current(),i.current())},[]);return L("keypress",f),a.exports.useEffect(()=>{r.current=e,n.current=[]},[e]),t};var m;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.RIGHT=2]="RIGHT",e[e.LEFT=3]="LEFT"})(m||(m={}));const R=({width:e,height:t})=>{const s=J(e,t),r=s[0][0],n=[s[0][0]];r.visitedDuringGenerating=!0;const o=l=>{const i=X(l,s);if(i){i.visitedDuringGenerating=!0,n.push(i),ee([l,i]),o(i);return}n.pop(),n[n.length-1]&&o(n[n.length-1])};return o(r),s},J=(e,t)=>new Array(t).fill(null).map((s,r)=>new Array(e).fill(null).map((n,o)=>({walls:{top:!0,bottom:!0,left:!0,right:!0},coordinates:{x:o,y:r},visitedDuringGenerating:!1}))),X=({coordinates:{x:e,y:t}},s)=>{var n,o,l,i,f,c,h,u;const r=[];return((o=(n=s[t+1])==null?void 0:n[e])==null?void 0:o.visitedDuringGenerating)===!1&&r.push(s[t+1][e]),((i=(l=s[t-1])==null?void 0:l[e])==null?void 0:i.visitedDuringGenerating)===!1&&r.push(s[t-1][e]),((c=(f=s[t])==null?void 0:f[e+1])==null?void 0:c.visitedDuringGenerating)===!1&&r.push(s[t][e+1]),((u=(h=s[t])==null?void 0:h[e-1])==null?void 0:u.visitedDuringGenerating)===!1&&r.push(s[t][e-1]),r[Math.floor(Math.random()*r.length)]},ee=([e,t])=>{switch(te([e,t])){case m.UP:{e.walls.top=t.walls.bottom=!1;break}case m.DOWN:{e.walls.bottom=t.walls.top=!1;break}case m.RIGHT:{e.walls.right=t.walls.left=!1;break}case m.LEFT:{e.walls.left=t.walls.right=!1;break}}},te=([{coordinates:e},{coordinates:t}])=>{const s=e.y!==t.y;return(s?e.y<t.y:e.x<t.x)?s?m.DOWN:m.RIGHT:s?m.UP:m.LEFT},se=e=>{const t=e[0][0],s=e[e.length-1][e.length-1],r=new Map,n=new Map,o={cell:t,estimatedValue:0,distanceFromStart:0,estimatedDistanceToEnd:N(t.coordinates,s.coordinates)};for(E(o,r);r.size;){const l=oe(Array.from(r.values())),i=ne(ce(l.cell,e),l,s.coordinates),f=i.find(c=>ae(c.cell.coordinates,s.coordinates));if(f)return re(f);ie(l.cell.coordinates,r),i.forEach(c=>{const h=G(c.cell.coordinates,r);if(!h||h.estimatedValue>c.estimatedValue){const u=G(c.cell.coordinates,n);(!u||u.estimatedValue>c.estimatedValue)&&E(c,r)}}),E(l,n)}return[]},re=e=>{const t=[];let s=e;for(;s.parent;)s.parent&&(s=s.parent),t.push(s.cell);return t},N=({x:e,y:t},{x:s,y:r})=>Math.abs(e-s)+Math.abs(t-r),ne=(e,t,s)=>e.map(r=>{const n=N(r.coordinates,s);return{cell:r,estimatedValue:t.distanceFromStart+1+n,distanceFromStart:t.distanceFromStart+1,estimatedDistanceToEnd:n,parent:t}}),oe=e=>e.reduce((t,s)=>s.estimatedValue<t.estimatedValue?s:t),ae=({x:e,y:t},{x:s,y:r})=>e===s&&t===r,E=(e,t)=>t.set(`${e.cell.coordinates.y}_${e.cell.coordinates.x}`,e),G=({x:e,y:t},s)=>s.get(`${t}_${e}`),ie=({x:e,y:t},s)=>s.delete(`${t}_${e}`),ce=({coordinates:{x:e,y:t}},s)=>{var n,o,l,i,f,c,h,u;const r=[];return((o=(n=s[t+1])==null?void 0:n[e])==null?void 0:o.walls.top)===!1&&r.push(s[t+1][e]),((i=(l=s[t-1])==null?void 0:l[e])==null?void 0:i.walls.bottom)===!1&&r.push(s[t-1][e]),((c=(f=s[t])==null?void 0:f[e+1])==null?void 0:c.walls.left)===!1&&r.push(s[t][e+1]),((u=(h=s[t])==null?void 0:h[e-1])==null?void 0:u.walls.right)===!1&&r.push(s[t][e-1]),r},S={[p.EASY]:{width:15,height:15},[p.NORMAL]:{width:20,height:20},[p.HARD]:{width:25,height:25}},le=e=>{const[t,s]=a.exports.useState(()=>R(S[e])),r=a.exports.useMemo(()=>se(t),[t]),n=a.exports.useCallback(o=>{s(R(S[o]))},[]);return{maze:t,generateNewMaze:n,solution:r}},ue=e=>{const t=a.exports.useRef(window.matchMedia(e)).current,[s,r]=a.exports.useState(t.matches),n=a.exports.useCallback(({matches:o})=>r(o),[]);return a.exports.useEffect(()=>(t.addEventListener("change",n),()=>t.removeEventListener("change",n)),[n,t]),s},L=(e,t)=>{const s=a.exports.useRef(t);a.exports.useEffect(()=>{s.current=t},[t]),a.exports.useEffect(()=>{const r=n=>s.current(n);return window.addEventListener(e,r),()=>window.removeEventListener(e,r)},[e])};var de="_15u7hnm0 _14x3hpdv";var he="_391hmr0",fe="_391hmr3",me="_391hmr2",ge="_391hmr1";const pe=({cell:e,playerVisiting:t,mazeEnd:s,solution:r,showSolution:n})=>{const o=a.exports.useMemo(()=>r.includes(e),[e,r]),l=a.exports.useMemo(()=>({borderLeft:e.walls.left?void 0:0,borderRight:e.walls.right?void 0:0,borderTop:e.walls.top?void 0:0,borderBottom:e.walls.bottom?void 0:0}),[e]);return d("div",{style:l,"data-testid":`cell_${e.coordinates.y}_${e.coordinates.x}`,className:`${he} ${s?me:""} ${t?fe:""} ${n&&o?ge:""}`},`${e.coordinates.y}${e.coordinates.x}`)};var g;(function(e){e.DOWN="ArrowDown",e.UP="ArrowUp",e.LEFT="ArrowLeft",e.RIGHT="ArrowRight"})(g||(g={}));const ve={[g.DOWN]:"top",[g.UP]:"bottom",[g.LEFT]:"right",[g.RIGHT]:"left"},we={[g.DOWN]:m.UP,[g.UP]:m.DOWN,[g.LEFT]:m.RIGHT,[g.RIGHT]:m.LEFT};g.DOWN+"",g.UP+"",g.LEFT+"",g.RIGHT+"";const ye=({onPlayerMove:e,board:t,playerPosition:s,onGameFinish:r})=>{const[n,o]=a.exports.useState([]);a.exports.useMemo(()=>n.slice(-5),[n]);const l=({key:i})=>{if(i===g.UP||i===g.DOWN||i===g.LEFT||i===g.RIGHT){const f=!t[s.y][s.x].walls[ve[i]];f&&e(we[i]),o(c=>[...c,{key:i,valid:f}])}};return a.exports.useEffect(()=>{s.y===t.length-1&&s.x===t.length-1&&r(n.length)},[t,n,r,s]),L("keydown",l),d(w,{})},xe=["KeyC","KeyH","KeyE","KeyA","KeyT","KeyE","KeyR"],be=({board:e,gameInProgress:t,onGameFinish:s,solution:r})=>{const[n,o]=a.exports.useState({x:0,y:0}),l=Z(xe);a.exports.useEffect(()=>{o({x:0,y:0})},[e]);const i=c=>{switch(c){case m.DOWN:o(({x:h,y:u})=>({x:h,y:u+1}));break;case m.UP:o(({x:h,y:u})=>({x:h,y:u-1}));break;case m.LEFT:o(({x:h,y:u})=>({x:h-1,y:u}));break;case m.RIGHT:o(({x:h,y:u})=>({x:h+1,y:u}));break}},f=a.exports.useCallback(c=>s({moves:c,perfectMoves:r.length}),[s,r]);return v(w,{children:[d("div",{className:de,style:{"--current-board-height":e.length},children:e.map((c,h)=>c.map((u,y)=>d(pe,{showSolution:l,solution:r,cell:u,playerVisiting:n.x===y&&n.y===h,mazeEnd:u.coordinates.x===e.length-1&&u.coordinates.y===e.length-1},`${h}_${y}`)))}),t&&d(ye,{onPlayerMove:i,board:e,playerPosition:n,onGameFinish:f})]})};var Ee="_15v4orr0";const _e=e=>{const t=e.moves/e.perfectMoves;return t<1.1?"Congratulations, you rocking it! \u{1F973}":t<1.3?"Close to awesomeness! \u{1F44A}":"You could definitely do better \u{1F61E}"},Ce=({onNewGame:e,result:t})=>{const s=_e(t);return d(w,{children:v("h2",{className:Ee,children:[s," You finished in ",t.moves," moves :)"]})})},Me=({initialDifficulty:e,setWin:t})=>{const{maze:s,generateNewMaze:r,solution:n}=le(e),[o,l]=a.exports.useState(),i=a.exports.useCallback(c=>{t(!0),l(c)},[]),f=a.exports.useCallback(c=>{r(c)},[r]);return a.exports.useEffect(()=>{l(void 0)},[s]),v(w,{children:[d(be,{solution:n,onGameFinish:i,gameInProgress:!o,board:s}),o&&d(Ce,{onNewGame:f,result:o})]})};var $e="wae2s20";const D="#hg08gos$",Te=e=>b.AES.encrypt(e,D).toString(),Re=e=>{try{return b.AES.decrypt(e,D).toString(b.enc.Utf8)}catch(t){return""}};let k=Date.now()+8e4;const Ne=({targetTime:e})=>{const[t,s]=a.exports.useState(!1),[r,n]=a.exports.useState(),[o,l]=a.exports.useState(""),[i,f]=a.exports.useState(!1);ue("screen and (min-width: 1024px) and (min-height: 768px)"),a.exports.useEffect(()=>{i&&s(!1)},[i]);const c=a.exports.useCallback(C=>{l(""),s(!0),n(C),k=Date.now()+8e4},[]),h=({hours:C,minutes:M,seconds:$,completed:H})=>H?(l("Time's up, but the journey doesn't end here. With each attempt, you grow stronger and wiser."),s(!1),v("h1",{children:["Time Left : ",M,":",$]})):v("h1",{children:["Time Left : ",M,":",$]}),[u,y]=a.exports.useState(""),[A,F]=a.exports.useState(""),[_,O]=a.exports.useState(1);a.exports.useEffect(()=>{P()},[]);const P=()=>{y(Te("W0n8u+@wh+C05+"))},I=()=>{F(Re(u))};return a.exports.useEffect(()=>{i&&I()},[i]),d("main",{className:$e,children:t&&r?v(w,{children:[d(W,{date:k,renderer:h}),d(Me,{setWin:()=>{if(_===2){f(!0);return}O(_+1),alert("Round 1 Complete! Get ready for Round 2!"),confirm("Round 2! Are you ready?")&&(c(p.HARD),s(!1),setTimeout(()=>{s(!0)},50))},initialDifficulty:r})]}):d(q,{im:A,win:i,lostText:o,onGameStart:c})})};const Ge=Date.now()+8e4;U.render(d(z.StrictMode,{children:d(Ne,{targetTime:Ge})}),document.getElementById("root"));
