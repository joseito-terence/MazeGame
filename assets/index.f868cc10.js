import{j as x,r as a,C as b,a as I,R as W,b as H}from"./vendor.e1ddb576.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};U();var C="kx59sb0",z="kx59sb1",v;(function(e){e[e.EASY=1]="EASY",e[e.NORMAL=2]="NORMAL",e[e.HARD=3]="HARD"})(v||(v={}));var V="_5khzua0 _14x3hpdu";const d=x.exports.jsx,p=x.exports.jsxs,w=x.exports.Fragment,B=({onClick:e,children:t})=>d("button",{className:V,onClick:e,children:t!=null?t:"Click"});var j="auiokr0";const K=({onDifficultyChosen:e,lost:t,win:s,im:r})=>d("div",{className:j,children:s?d("h1",{style:{color:"#f95d5d",backgroundColor:"#222222",padding:"0.5rem",borderRadius:"0.5rem"},children:r}):d(B,{onClick:()=>{e(v.HARD)},children:t?"Play Again":"Start Game"})}),Y=({onGameStart:e,lostText:t,win:s,im:r})=>p(w,{children:[d("h1",{className:z,children:"Maze Game"}),(t==null?void 0:t.length)>0&&d("p",{className:C,style:{color:"#f95d5d",backgroundColor:"#222222",padding:"0.5rem",borderRadius:"0.5rem"},children:t}),d("p",{className:C,children:s?"Congratulations, oh master of the maze! With wit and wisdom, you navigated the labyrinth's twists and turns, conquering every challenge in your path. As a reward for your triumph, we present you with the key to unlock new adventures and mysteries! The world of possibilities awaits at your fingertips.":"The goal of this game is to solve the maze within the given time. Use arrows to move through the labyrinth and find the way out as quickly as possible."}),d(K,{im:r,win:s,lost:(t==null?void 0:t.length)!=0,onDifficultyChosen:e})]}),Q=e=>{const[t,s]=a.exports.useState(!1),r=a.exports.useRef(e),n=a.exports.useRef([]),o=a.exports.useRef(),l=a.exports.useRef(()=>s(c=>!c)),i=a.exports.useRef(()=>n.current=[]),f=a.exports.useCallback(c=>{c.code===r.current[n.current.length]?(n.current=[...n.current,c.key],o.current&&clearTimeout(o.current),o.current=setTimeout(i.current,2e3)):n.current=[c.key],n.current.length===r.current.length&&(l.current(),i.current())},[]);return S("keypress",f),a.exports.useEffect(()=>{r.current=e,n.current=[]},[e]),t};var m;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.RIGHT=2]="RIGHT",e[e.LEFT=3]="LEFT"})(m||(m={}));const T=({width:e,height:t})=>{const s=q(e,t),r=s[0][0],n=[s[0][0]];r.visitedDuringGenerating=!0;const o=l=>{const i=Z(l,s);if(i){i.visitedDuringGenerating=!0,n.push(i),J([l,i]),o(i);return}n.pop(),n[n.length-1]&&o(n[n.length-1])};return o(r),s},q=(e,t)=>new Array(t).fill(null).map((s,r)=>new Array(e).fill(null).map((n,o)=>({walls:{top:!0,bottom:!0,left:!0,right:!0},coordinates:{x:o,y:r},visitedDuringGenerating:!1}))),Z=({coordinates:{x:e,y:t}},s)=>{var n,o,l,i,f,c,h,u;const r=[];return((o=(n=s[t+1])==null?void 0:n[e])==null?void 0:o.visitedDuringGenerating)===!1&&r.push(s[t+1][e]),((i=(l=s[t-1])==null?void 0:l[e])==null?void 0:i.visitedDuringGenerating)===!1&&r.push(s[t-1][e]),((c=(f=s[t])==null?void 0:f[e+1])==null?void 0:c.visitedDuringGenerating)===!1&&r.push(s[t][e+1]),((u=(h=s[t])==null?void 0:h[e-1])==null?void 0:u.visitedDuringGenerating)===!1&&r.push(s[t][e-1]),r[Math.floor(Math.random()*r.length)]},J=([e,t])=>{switch(X([e,t])){case m.UP:{e.walls.top=t.walls.bottom=!1;break}case m.DOWN:{e.walls.bottom=t.walls.top=!1;break}case m.RIGHT:{e.walls.right=t.walls.left=!1;break}case m.LEFT:{e.walls.left=t.walls.right=!1;break}}},X=([{coordinates:e},{coordinates:t}])=>{const s=e.y!==t.y;return(s?e.y<t.y:e.x<t.x)?s?m.DOWN:m.RIGHT:s?m.UP:m.LEFT},ee=e=>{const t=e[0][0],s=e[e.length-1][e.length-1],r=new Map,n=new Map,o={cell:t,estimatedValue:0,distanceFromStart:0,estimatedDistanceToEnd:N(t.coordinates,s.coordinates)};for(E(o,r);r.size;){const l=re(Array.from(r.values())),i=se(ae(l.cell,e),l,s.coordinates),f=i.find(c=>ne(c.cell.coordinates,s.coordinates));if(f)return te(f);oe(l.cell.coordinates,r),i.forEach(c=>{const h=G(c.cell.coordinates,r);if(!h||h.estimatedValue>c.estimatedValue){const u=G(c.cell.coordinates,n);(!u||u.estimatedValue>c.estimatedValue)&&E(c,r)}}),E(l,n)}return[]},te=e=>{const t=[];let s=e;for(;s.parent;)s.parent&&(s=s.parent),t.push(s.cell);return t},N=({x:e,y:t},{x:s,y:r})=>Math.abs(e-s)+Math.abs(t-r),se=(e,t,s)=>e.map(r=>{const n=N(r.coordinates,s);return{cell:r,estimatedValue:t.distanceFromStart+1+n,distanceFromStart:t.distanceFromStart+1,estimatedDistanceToEnd:n,parent:t}}),re=e=>e.reduce((t,s)=>s.estimatedValue<t.estimatedValue?s:t),ne=({x:e,y:t},{x:s,y:r})=>e===s&&t===r,E=(e,t)=>t.set(`${e.cell.coordinates.y}_${e.cell.coordinates.x}`,e),G=({x:e,y:t},s)=>s.get(`${t}_${e}`),oe=({x:e,y:t},s)=>s.delete(`${t}_${e}`),ae=({coordinates:{x:e,y:t}},s)=>{var n,o,l,i,f,c,h,u;const r=[];return((o=(n=s[t+1])==null?void 0:n[e])==null?void 0:o.walls.top)===!1&&r.push(s[t+1][e]),((i=(l=s[t-1])==null?void 0:l[e])==null?void 0:i.walls.bottom)===!1&&r.push(s[t-1][e]),((c=(f=s[t])==null?void 0:f[e+1])==null?void 0:c.walls.left)===!1&&r.push(s[t][e+1]),((u=(h=s[t])==null?void 0:h[e-1])==null?void 0:u.walls.right)===!1&&r.push(s[t][e-1]),r},R={[v.EASY]:{width:15,height:15},[v.NORMAL]:{width:20,height:20},[v.HARD]:{width:25,height:25}},ie=e=>{const[t,s]=a.exports.useState(()=>T(R[e])),r=a.exports.useMemo(()=>ee(t),[t]),n=a.exports.useCallback(o=>{s(T(R[o]))},[]);return{maze:t,generateNewMaze:n,solution:r}},ce=e=>{const t=a.exports.useRef(window.matchMedia(e)).current,[s,r]=a.exports.useState(t.matches),n=a.exports.useCallback(({matches:o})=>r(o),[]);return a.exports.useEffect(()=>(t.addEventListener("change",n),()=>t.removeEventListener("change",n)),[n,t]),s},S=(e,t)=>{const s=a.exports.useRef(t);a.exports.useEffect(()=>{s.current=t},[t]),a.exports.useEffect(()=>{const r=n=>s.current(n);return window.addEventListener(e,r),()=>window.removeEventListener(e,r)},[e])};var le="_15u7hnm0 _14x3hpdv";var ue="_391hmr0",de="_391hmr3",he="_391hmr2",fe="_391hmr1";const me=({cell:e,playerVisiting:t,mazeEnd:s,solution:r,showSolution:n})=>{const o=a.exports.useMemo(()=>r.includes(e),[e,r]),l=a.exports.useMemo(()=>({borderLeft:e.walls.left?void 0:0,borderRight:e.walls.right?void 0:0,borderTop:e.walls.top?void 0:0,borderBottom:e.walls.bottom?void 0:0}),[e]);return d("div",{style:l,"data-testid":`cell_${e.coordinates.y}_${e.coordinates.x}`,className:`${ue} ${s?he:""} ${t?de:""} ${n&&o?fe:""}`},`${e.coordinates.y}${e.coordinates.x}`)};var g;(function(e){e.DOWN="ArrowDown",e.UP="ArrowUp",e.LEFT="ArrowLeft",e.RIGHT="ArrowRight"})(g||(g={}));const ge={[g.DOWN]:"top",[g.UP]:"bottom",[g.LEFT]:"right",[g.RIGHT]:"left"},pe={[g.DOWN]:m.UP,[g.UP]:m.DOWN,[g.LEFT]:m.RIGHT,[g.RIGHT]:m.LEFT};g.DOWN+"",g.UP+"",g.LEFT+"",g.RIGHT+"";const ve=({onPlayerMove:e,board:t,playerPosition:s,onGameFinish:r})=>{const[n,o]=a.exports.useState([]);a.exports.useMemo(()=>n.slice(-5),[n]);const l=({key:i})=>{if(i===g.UP||i===g.DOWN||i===g.LEFT||i===g.RIGHT){const f=!t[s.y][s.x].walls[ge[i]];f&&e(pe[i]),o(c=>[...c,{key:i,valid:f}])}};return a.exports.useEffect(()=>{s.y===t.length-1&&s.x===t.length-1&&r(n.length)},[t,n,r,s]),S("keydown",l),d(w,{})},we=["KeyC","KeyH","KeyE","KeyA","KeyT","KeyE","KeyR"],ye=({board:e,gameInProgress:t,onGameFinish:s,solution:r})=>{const[n,o]=a.exports.useState({x:0,y:0}),l=Q(we);a.exports.useEffect(()=>{o({x:0,y:0})},[e]);const i=c=>{switch(c){case m.DOWN:o(({x:h,y:u})=>({x:h,y:u+1}));break;case m.UP:o(({x:h,y:u})=>({x:h,y:u-1}));break;case m.LEFT:o(({x:h,y:u})=>({x:h-1,y:u}));break;case m.RIGHT:o(({x:h,y:u})=>({x:h+1,y:u}));break}},f=a.exports.useCallback(c=>s({moves:c,perfectMoves:r.length}),[s,r]);return p(w,{children:[d("div",{className:le,style:{"--current-board-height":e.length},children:e.map((c,h)=>c.map((u,y)=>d(me,{showSolution:l,solution:r,cell:u,playerVisiting:n.x===y&&n.y===h,mazeEnd:u.coordinates.x===e.length-1&&u.coordinates.y===e.length-1},`${h}_${y}`)))}),t&&d(ve,{onPlayerMove:i,board:e,playerPosition:n,onGameFinish:f})]})};var xe="_15v4orr0";const be=e=>{const t=e.moves/e.perfectMoves;return t<1.1?"Congratulations, you rocking it! \u{1F973}":t<1.3?"Close to awesomeness! \u{1F44A}":"You could definitely do better \u{1F61E}"},Ee=({onNewGame:e,result:t})=>{const s=be(t);return d(w,{children:p("h2",{className:xe,children:[s," You finished in ",t.moves," moves :)"]})})},_e=({initialDifficulty:e,setWin:t})=>{const{maze:s,generateNewMaze:r,solution:n}=ie(e),[o,l]=a.exports.useState(),i=a.exports.useCallback(c=>{t(!0),l(c)},[]),f=a.exports.useCallback(c=>{r(c)},[r]);return a.exports.useEffect(()=>{l(void 0)},[s]),p(w,{children:[d(ye,{solution:n,onGameFinish:i,gameInProgress:!o,board:s}),o&&d(Ee,{onNewGame:f,result:o})]})};var Me="wae2s20";const L="#hg08gos$",$e=e=>b.AES.encrypt(e,L).toString(),Ce=e=>{try{return b.AES.decrypt(e,L).toString(b.enc.Utf8)}catch(t){return""}};let D=Date.now()+8e4;const Te=({targetTime:e})=>{const[t,s]=a.exports.useState(!1),[r,n]=a.exports.useState(),[o,l]=a.exports.useState(""),[i,f]=a.exports.useState(!1);ce("screen and (min-width: 1024px) and (min-height: 768px)"),a.exports.useEffect(()=>{i&&s(!1)},[i]);const c=a.exports.useCallback(_=>{l(""),s(!0),n(_),D=Date.now()+8e4},[]),h=({hours:_,minutes:M,seconds:$,completed:P})=>P?(l("Time's up, but the journey doesn't end here. With each attempt, you grow stronger and wiser."),s(!1),p("h1",{children:["Time Left : ",M,":",$]})):p("h1",{children:["Time Left : ",M,":",$]}),[u,y]=a.exports.useState(""),[k,A]=a.exports.useState("");a.exports.useEffect(()=>{F()},[]);const F=()=>{y($e("W0n8u+@wh+C05+"))},O=()=>{A(Ce(u))};return a.exports.useEffect(()=>{i&&O()},[i]),d("main",{className:Me,children:t&&r?p(w,{children:[d(I,{date:D,renderer:h}),d(_e,{setWin:f,initialDifficulty:r})]}):d(Y,{im:k,win:i,lostText:o,onGameStart:c})})};const Ne=Date.now()+8e4;W.render(d(H.StrictMode,{children:d(Te,{targetTime:Ne})}),document.getElementById("root"));
